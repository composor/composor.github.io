<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="description" content="Composi is a JavaScript library for creating component-based interfaces. It uses the virtual DOM to make efficient updates to the DOM based on a component's data or state.">
  <meta name="keywords" content="javascript, framework, performance, small, fast, UI, programming, code, component, composi, chocolatechipui, chocolatechip-ui, reactive, virtual dom">
  <title>Composi - Docs</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/prism-tomorrow.css">
</head>
<body class='documentation-page'>
  <nav>
    <ul class='nav--menu'>
      <li class='nav--menu__item'>
        <a class='nav--menu__item__link' href="../index.html">
          <svg id='composi-logo' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>Composi Logo</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Composi-Logo-Solid" fill="#fff">
                <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
              </g>
            </g>
          </svg>
        <span class='logo__link--text'>Composi</span></a>
      </li>
      <li class='nav--menu__item selected'>
        <a class='nav--menu__item__link' href="./installation.html">Docs</a>
      </li>
      <li class='nav--menu__item'>
        <a class='nav--menu__item__link' href="../tuts/index.html">Tutorials</a>
      </li>
      <li class='nav--menu__item'>
        <a class='nav--menu__item__link external' target='__blank' href="https://github.com/composor/awesome-composi">Resources
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="14px" height="14px" viewBox="0 0 511.626 511.627" style="enable-background:new 0 0 511.626 511.627;"
	 xml:space="preserve">
  <path fill='#fff' d="M392.857,292.354h-18.274c-2.669,0-4.859,0.855-6.563,2.573c-1.718,1.708-2.573,3.897-2.573,6.563v91.361
    c0,12.563-4.47,23.315-13.415,32.262c-8.945,8.945-19.701,13.414-32.264,13.414H82.224c-12.562,0-23.317-4.469-32.264-13.414
    c-8.945-8.946-13.417-19.698-13.417-32.262V155.31c0-12.562,4.471-23.313,13.417-32.259c8.947-8.947,19.702-13.418,32.264-13.418
    h200.994c2.669,0,4.859-0.859,6.57-2.57c1.711-1.713,2.566-3.9,2.566-6.567V82.221c0-2.662-0.855-4.853-2.566-6.563
    c-1.711-1.713-3.901-2.568-6.57-2.568H82.224c-22.648,0-42.016,8.042-58.102,24.125C8.042,113.297,0,132.665,0,155.313v237.542
    c0,22.647,8.042,42.018,24.123,58.095c16.086,16.084,35.454,24.13,58.102,24.13h237.543c22.647,0,42.017-8.046,58.101-24.13
    c16.085-16.077,24.127-35.447,24.127-58.095v-91.358c0-2.669-0.856-4.859-2.574-6.57
    C397.709,293.209,395.519,292.354,392.857,292.354z"/>
  <path fill='#fff' d="M506.199,41.971c-3.617-3.617-7.905-5.424-12.85-5.424H347.171c-4.948,0-9.233,1.807-12.847,5.424
    c-3.617,3.615-5.428,7.898-5.428,12.847s1.811,9.233,5.428,12.85l50.247,50.248L198.424,304.067
    c-1.906,1.903-2.856,4.093-2.856,6.563c0,2.479,0.953,4.668,2.856,6.571l32.548,32.544c1.903,1.903,4.093,2.852,6.567,2.852
    s4.665-0.948,6.567-2.852l186.148-186.148l50.251,50.248c3.614,3.617,7.898,5.426,12.847,5.426s9.233-1.809,12.851-5.426
    c3.617-3.616,5.424-7.898,5.424-12.847V54.818C511.626,49.866,509.813,45.586,506.199,41.971z"/>
</svg></a>
      </li>
    </ul>
  </nav>
  <article class='docs__article'>
    <section>
      <div class='docs'>
          <h1>Lifecycle Methods</h1>
          <p class="docs__intro">Class-based components have the following five lifecycle methods:</p>

          <ol>
            <li>componentWillMount</li>
            <li>componentDidMount</li>
            <li>componentWillUpdate</li>
            <li>componentDidUpdate</li>
            <li>componentWillUnmount</li>
          </ol>
        

          <p>As of version 2.1.0, you can also use lifecycle hooks with functional components. Check <a target='_blank' href='./functional-component.html#lifecyle'>the documentation</a> to learn more.</p>

          <p>Lifecycle methods are hooks that let you implement maintenance, register or remove events, and other clean based on the status of a component from when it is created and injected into the DOM, when it is updated and when it is removed from the DOM.</p>

          <p><code>componentWillMount</code> is executed before the component is created and inserted into the DOM. As such, it will always fire, whether the mount was successful or not. If you need to access the DOM, set up an event, or make a network request for remote resources, use the <code>componentDidMount</code> hook.</p>
          
          <p>This lifecycle hook receives a callback named <code>done</code>. You need to call this after doing whatever you need to do
          before the component is updates. If you fail to call <code>done()</code>, the update will not complete. Mounting is triggered by a component's state, so this is not the place to get data to set on a component. Get the data first and then set the component's state.</p>

<pre><code class="language-javascript">componentWillMount(done) {
  // Do whatever you need to here...
  // Delay mounting by 3 seconds
  setTimeout(() => {
    // Don't forget to call done:
    done()
  }, 3000)
}</code></pre>

          <p><code>componentDidMount</code> is executed after the component is inserted into the DOM. This is the place to set up events, access the child nodes of the component, or make a request for remote resources over the network. The callback gets passed a reference to the component instance as its argument. Using this, you can use <code>this.element</code> to access the component instance DOM tree.</p>

          <pre><code class="language-javascript">componentDidMount() {
  // Access the component instance root element:
  this.element.addEventListener('click', this)
  this.input = this.element.querySelector('input')
}</code></pre>

          <p><code>componentWillUpdate</code> is executed right before the component is updated. It will not execute if the component is not yet mounted. Because this is async, the component will probably update before this finishes executing. It's best to instead use <code>componentDidUpdate</code> for reliability. Otherwise, do whatever you need to do before the update and use a promise to update it.</p>
          <p><code>componentWillUpdate</code> will execute when Composi tries to update a component. If a component is updated with the same data as previously, no update will occur and this will not execute. You can access <code>this.element</code>, <code>this.props</code> and <code>this.state</code> from within the <code>componentWillUpdate</code> callback. This lifecycle hook receives a callback named <code>done</code>. You need to call this after doing whatever you need to do before the component
          is updates. If you fail to call <code>done()</code>, the update will not complete. Here is how to use it. Failing to call <code>done()</code> in <code>componentDidUpdate</code> means that the component will be out of sync with its state.</p>
          <p>In the following example we delay the update of the component for 3 seconds:</p>


<pre><code class="language-javascript">import { h, Component } from 'composi'
class Title extends Component {
  render(data) {
    return (
      &lt;nav>
          &lt;h1>
          &lt;/h1>
      &lt;/nav>
    )
  }
  // Pass in the done callback to complete the update:
  componentWillUpdate(done) {
    console.log('Getting ready to update!')
    // Do whatever you need to do before updating...

    // Delay update for 3 seconds:
    setTimeout(() => {
      console.log('We are now updating!') 
      // Don't forget to call done!
      done()
    }, 3000)
  }
}</code></pre>

          <p><code>componentDidUpdate</code> is executed immediately after the component is updated. If a component is updated with the same data as previously, no update will occur and this will not execute.  You can use this lifecycle hook to examine the component instance element, props and state like with <code>componentWillUpdate</code>. Be aware that <code>this.props</code> never changes as it is the value assigned when the component was instantiated.</p>

          <p><code>componentWillUnmount</code> is executed before a component is unmounted with its <a href='./api.html#unmount' target='__blank'>unmounted</a> method. This receives a callback named <code>done</code>. You need to call this after doing whatever you need to do before the component is unmounted. If you fail to call <code>done()</code>, unmounting will not complete. Here is how to use it. Notice how we delay the removal of the component for 5 seconds:</p>


          <pre><code class="language-javascript">import { h, Component } from 'composi'
class Title extends Component {
  render(data) {
    return (
      &lt;nav>
         &lt;h1>
         &lt;/h1>
      &lt;/nav>
    )
  } 
  // Pass in the done callback to complete the unmounting:
  componentWillUnmount(done) {
    console.log('Getting ready to unmount!')
    // Do whatever you need to do before unmounting...

    // Delay unmount for 5 seconds:
    setTimeout(() => {
      console.log('We are now unmounting!')
      // Don't forget to call done!
      done()
    }, 5000)
  }
}
          </code></pre>

          <p><strong>Notice:</strong> If you do not call the <code>done</code> callback as in the above example, the component will never unmount.</p>

          <p> </p>
          <h2>Difference between Will and Did</h2>
          <p>The three lifecycle hooks with <code>Will</code> in their names allow you to delay they action until you are ready. This is done with the <code>done</code> callback. If you are using <code>componentWillMount</code>, <code>componentWillUpdate</code> or <code>componentWillUnmount</code> you have to pass them the done callback:</p>
          
          <pre><code class="language-javascript">componentWillMount(done) {
  // Do whatever you need to here...
  // Let the mount happen:
  done()
}
componentWillUpdate(done) {
  // Do whatever you need to here...
  // Let the update happen:
  done()
}
componentWillUnmount(done) {
  // Do whatever you need to here...
  // Let the unmount happen:
  done()
}
</code></pre>

          <p>In contrast, <code>componentDidMount</code> and <code>componentDidUpdate</code> execute immediately.</p>

          <h2>Order of Execution</h2>
          <p>The first time a component is rendered, <code>componentWillMount</code> and <code>componentDidMount</code> will be executed. <code>componentWillUpdate</code> and <code>componentWillUpdate</code> will not be executed at this time. After the component is created, each render will fire <code>componentWillUpdate</code> and <code>componentDidUpdate</code>. So, if you want to do something when the component is initially created and after it updates, you would need to do this:</p>

          <pre><code class="language-javascript">class List extends Component {
  //... setup here.
  componentDidMount() {
    // Do stuff right after the component mounts.
    // This will run only once.
  }
  componentDidUpdate() {
    // Do stuff every time component is updated.
    // This will start with the first update after mounting.
  }
}</code></pre>
          
          <p> </p>
          <h2>Accessing the Component Instance in Lifecycle Methods</h2>
          <p>When we create a new component by extending the Component class, we can access component properties directly through the `this` keyword. This is so because we define the lifecycle methods as class methods. Notice how we do this in the example below.</p>

          <p data-height="450" data-theme-id="6688" data-slug-hash="OOPMGW" data-default-tab="js,result" data-user="rbiggs" data-embed-version="2" data-pen-title="Composi lifecycle-2" class="codepen">See the Pen <a href="https://codepen.io/rbiggs/pen/OOPMGW/">Composi lifecycle-2</a> by Robert Biggs (<a href="https://codepen.io/rbiggs">@rbiggs</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
          <p>&nbsp;</p>
          
      </div>

      <aside>
        <menu>
          <ul class="docs__menu">
            <li class="docs__menu__item">
              <a href='./installation.html'>Installation</a>
            </li>
            <li class="docs__menu__item">
              <a href='./render.html'>Mount/Render/Unmount</a>
            </li>
            <li class="docs__menu__item">
              <a href='./functional-component.html'>Functional Component</a>
            </li>
            <li class="docs__menu__item">
              <a href='./class-component.html'>Class Component</a>
            </li>
            <li class="docs__menu__item">
              <a href='./state.html'>State</a>
            </li>
            <li class="docs__menu__item">
              <a href='./jsx.html'>JSX</a>
            </li>
            <li class="docs__menu__item">
              <a href='./h.html'>H for Hyperscript</a>
            </li>
            <li class="docs__menu__item">
              <a href='./template-literals.html'>Template Literals</a>
            </li>
            <li class="docs__menu__item">
              <a href='./styles.html'>Styles</a>
            </li>
            <li class="docs__menu__item selected">
              <a href='./lifecycle-methods.html'>Lifecycle Methods</a>
            </li>
            <li class="docs__menu__item">
              <a href='./events.html'>Events</a>
            </li>
            <li class="docs__menu__item">
              <a href='./hydration.html'>Hydration</a>
            </li>
            <li class="docs__menu__item">
              <a href='./deployment.html'>Deployment</a>
            </li>
            <li class="docs__menu__item">
              <a href='./api.html'>API</a>
            </li>
            <li class="docs__menu__item">
              <a href='./about.html'>About</a>
            </li>
            <li class="docs__menu__item">
              <a href='./misc.html'>Attributes &amp; Types</a>
            </li>
            <li class="docs__menu__item">
              <a href="./composi-react.html">Composi-React</a>
            </li>
          </ul>
        </menu>
      </aside>
    </section> 
  </article>
  <footer>
      <section>
        <svg id='composi-logo-footer' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title>Composi Logo</title>
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Composi-Logo-Solid" fill="rgba(255,255,255,0.5)">
              <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
            </g>
          </g>
        </svg>
        <h3>Composi is open source (MIT) and available on <a href='https://github.com/composor/composi' target='__blank'>Github</a> and <a href="https://www.npmjs.com/package/composi" target='__blank'>NPM</a>.</h3>
      </section>
    </footer>
  <script src="../js/prism.min.js"></script>
  <script src="../js/prism-jsx.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115293685-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-115293685-1');
  </script>
</body>
</html>