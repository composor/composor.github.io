<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="description" content="Composi is a JavaScript library for creating component-based interfaces. It uses the virtual dom to make efficient updates to the DOM based on a component's data or state.">
  <meta name="keywords" content="javascript, framework, performance, small, fast, UI, programming, code, component, composi, chocolatechipui, chocolatechip-ui, reactive, virtual dom">
  <title>Composi - Docs</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/prism-tomorrow.css">
</head>
<body class='documentation-page'>
  <nav>
    <ul class='nav--menu'>
      <li class='nav--menu__item'>
        <a class='nav--menu__item__link' href="../index.html">
          <svg id='composi-logo' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>Composi Logo</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Composi-Logo-Solid" fill="#fff">
                <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
              </g>
            </g>
          </svg>
        <span class='logo__link--text'>Composi</span></a>
      </li>
      <li class='nav--menu__item selected'>
        <a class='nav--menu__item__link' href="./installation.html">Docs</a>
      </li>
      <li class='nav--menu__item'>
        <a class='nav--menu__item__link' href="../tuts/index.html">Tutorials</a>
      </li>
    </ul>
  </nav>
  <article class='docs__article'>
    <section>
      <div class='docs'>
          <h1>Template Literals</h1>
          <p class="docs__intro">Many people really dislike JSX. At the same time, some people also do not like having to define markup with the <code>h</code> function. For them there is another way: ES6 template literals. It is possible to use template literals to define what the <code>render</code> function returns, but he requires a litter setup.</p>

          <h2>Hyperxes6</h2>
          <p>There is a module on NPM called Hyperx that lets you use ES6 template literals and converts them to hyperscript functions. Unfortunately it does not work with Rollup for ES6 module imports. We therefore forked it as an ES6 module and called it: <a href='https://www.npmjs.com/package/hyperx-es6' target='__blank'>Hyperx-es6</a>. To use it you'll have to install it.</p>
          <p>Open your terminal and <code>cd</code> to your project. Then install Hyperx-es6 as a dependency:</p>
          <pre>
            <code class="language-bash">
npm i -D hyperx-es6
            </code>
          </pre>

          <p>With Hyperx-es6 installed, you can now use it with your components. To do so, you'll need to import it into where you want to use it. You still need to import the <code>h</code> funtion. When Hyperx-es6 transpiles the template literals, it will use the <code>h</code> function to convert the result into virtual nodes that Composi understands:</p>
          <pre>
            <code class="language-javascript">
import {h, Component} from 'composi'
import {hyperx} from 'hyperx-es6'

// Tell Hyperx-es6 to use the Composi h function:
const html = hyperx(h)</code>
          </pre>
          <p>We can now use the <code>html</code> function to define template literals as markup for Composi components. If you have not used template literals before, you might want to read up on <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals' target='__blank'>how they work</a>.</p>

          <h2>Using Template Literals</h2>
          <p>You can use template literals just as you normally would. Whereas JSX uses <code>{someVariable}</code> to evaluate variables, template literals use curly braces preceded by $: <code>${someVariable}</code>. Notice how we capture Hyperx-es6 as a tagged template literal function `html`, which we then use to define markup:</p>

          <pre>
            <code class="language-javascript">
import {h, Component} from 'composi'
import {hyperx} from 'hyperx-es6'
const html = hyperx(h)

// Use class attribute as normal:
function header(data) {
  return html`
    &lt;header>
      &lt;h1 class='title'>${data.title}&lt;/h1>
      &lt;h2 class='subtitle'>${data.subtitle}&lt;/h2>
    &lt;/header>
  `
}</code>
          </pre>
          <p></p>
          <h2>Partial Attributes</h2>
          <p>Unlike JSX, Hyperx-es6 does support partial attribute values. The following code will work without a problem:</p>
          
          <pre>
            <code class="language-javascript">
import {h, Component} from 'composi'
import {hyperx} from 'hyperx-es6'
const html = hyperx(h)

function userList(users) {
  return html`
    &lt;ul>
       {
         users.map(user => &lt;li class='currently-${user.employed ? "employed" : "unemployed"}'>${user.name}&lt;/li>)
       }
    &lt;/ul>
  `
}</code>
          </pre>
          <p> </p>
          <h2>Hyperx-es6 with Components</h2>
          <p>We can use Hyperx-es6 directly inside a Component as part of the <code>render</code> function. Notice that when we need to loop over the arrray of items, we use <code>html</code> to define the list item. If we instad made that part a template literal, the markup would be returned as an escaped string. Of course, if that is what you want, that is how you would do it.</p>

          <pre>
            <code class="language-javascript">
const fruitsList = new Component({
  container: '#fruit-list',
  state: fruits,
  render: (fruits) => html`
    &lt;ul class='list'>
      ${
        fruits.map(fruit =>
          html`&lt;li>
            &lt;div>
              &lt;h3>{fruit.title}&lt;/h3>
              &lt;h4>{fruit.subtitle}&lt;/h4>
            &lt;/div>
            &lt;aside>
              &lt;span class='disclosure'>&lt;/span>
            &lt;/aside>
          &lt;/li>`
        )
      }
    &lt;/ul>
  `
})</code>
          </pre>
          <p> </p>
          <h2>Custom Tags</h2>
          <p>JSX has the concept of custom tags that allow you to break up complex markup into smaller, reusable pieces. You can accomplish the same thing with Hyperx-es6. Define the functions that return the markup and then use them inside the parent render function as methods inside dollar sign curly braces:</p>

          <pre>
            <code class="language-javascript">
function listItem(fruit) { 
  return html`
    &lt;div>
      &lt;h3>${fruit.name}&lt;/h3>
      &lt;h4>${fruit.price}&lt;/h4>
    &lt;/div>`
}

// Function to return static markup:
function disclosure() { 
  return html`
    &lt;aside>
      &lt;span class='disclosure'>&lt;/span>
    &lt;/aside>`
}

//Now that we have some custom tags, we can use them as follows:

const fruitsList = new Component({
  container: '#fruit-list',
  state: fruits,
  render: (fruits) => html`
    &lt;ul class='list'>
      {
        fruits.map(fruit => (
          &lt;li>
            ${listItem(fruit)}
            ${disclosure()}
          &lt;/li> 
        )
      }
    &lt;/ul>
  `
})</code>
          </pre>
          <p> </p>
          <h2>About Sibling Tags</h2>
          <p>Like JSX, you markup must always have one enclosing tag. Although it is legal to return a set of sibling elements in an ES6 template literal, this will not work with Composi's `h` function. That's because each tag you define will be converted into a function. As such, there needs to be one final, top-most function that returns the markup.</p>
          <p>Bad markup:</p>
          <pre>
            <code class="language-javascript">
// The following code cannot compile:
const badHyperx = new Component({
  container: '#list',
  render: () => html`
    &lt;li>One&lt;/li>
    &lt;li>Two&lt;/li>
    &lt;li>Three&lt;/li>
  `
})
            </code>
          </pre>
          <p>The above code will not build. Instead you need to create the entire list like this and insert it in some higher element as the container:</p>
          <pre>
            <code class="language-javascript">
const goodHyperx = new Component({
  container: '#listDiv',
  render: () => html`
    &lt;ul>
      &lt;li>One&lt;/li>
      &lt;li>Two&lt;/li>
      &lt;li>Three&lt;/li>
    &lt;/ul>
  `
})</code>
          </pre>


          <p>&nbsp;</p>
      </div>

      <aside>
        <menu>
          <ul class="docs__menu">
            <li class="docs__menu__item">
              <a href='./installation.html'>Installation</a>
            </li>
            <li class="docs__menu__item">
              <a href='./render.html'>Render</a>
            </li>
            <li class="docs__menu__item">
              <a href='./functional-components.html'>Functional Components</a>
            </li>
            <li class="docs__menu__item">
              <a href='./component-instance.html'>Component Instance</a>
            </li>
            <li class="docs__menu__item">
              <a href='./extending-component.html'>Extending Component</a>
            </li>
            <li class="docs__menu__item">
              <a href='./state.html'>State</a>
            </li>
            <li class="docs__menu__item">
              <a href='./jsx.html'>JSX</a>
            </li>
            <li class="docs__menu__item">
              <a href='./h.html'>H for Hyperscript</a>
            </li>
            <li class="docs__menu__item selected">
              <a href='./template-literals.html'>Template Literals</a>
            </li>
            <li class="docs__menu__item">
              <a href='./styles.html'>Styles</a>
            </li>
            <li class="docs__menu__item">
              <a href='./lifecycle-methods.html'>Lifecycle Methods</a>
            </li>
            <li class="docs__menu__item">
              <a href='./events.html'>Events</a>
            </li>
            <li class="docs__menu__item">
              <a href='./hydration.html'>Hydration</a>
            </li>
            <li class="docs__menu__item">
              <a href='./deployment.html'>Deployment</a>
            </li>
            <li class="docs__menu__item">
              <a href='./about.html'>About</a>
            </li>
          </ul>
        </menu>
      </aside>
    </section> 
  </article>
  <footer>
      <section>
        <svg id='composi-logo-footer' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title>Composi Logo</title>
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Composi-Logo-Solid" fill="rgba(255,255,255,0.5)">
              <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
            </g>
          </g>
        </svg>
        <h3>Composi is open source (MIT) and available on <a href='https://github.com/composor/composi' target='__blank'>Github</a> and <a href="https://www.npmjs.com/package/composi" target='__blank'>NPM</a>.</h3>
      </section>
    </footer>
  <script src="../js/prism.min.js"></script>
  <script src="../js/prism-jsx.js"></script>
</body>
</html>