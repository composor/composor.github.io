<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="description" content="Composi is a JavaScript library for creating component-based interfaces. It uses the virtual dom to make efficient updates to the DOM based on a component's data or state.">
  <meta name="keywords" content="javascript, framework, performance, small, fast, UI, programming, code, component, composi, chocolatechipui, chocolatechip-ui, reactive, virtual dom">
  <title>Composi - Docs</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/prism-tomorrow.css">
</head>
<body class='documentation-page'>
  <nav>
    <ul class='nav--menu'>
      <li class='nav--menu__item'>
        <a class='nav--menu__item__link' href="../index.html">
          <svg id='composi-logo' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>Composi Logo</title>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Composi-Logo-Solid" fill="#fff">
                <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
              </g>
            </g>
          </svg>
        <span class='logo__link--text'>Composi</span></a>
      </li>
      <li class='nav--menu__item selected'>
        <a class='nav--menu__item__link' href="./installation.html">Docs</a>
      </li>
      <li class='nav--menu__item'>
        <a class='nav--menu__item__link' href="../tuts/index.html">Tutorials</a>
      </li>
    </ul>
  </nav>
  <article class='docs__article'>
    <section>
      <div class='docs'>
          <h1>Styles</h1>
          <p class="docs__intro">You can define styles for a component. There are three ways to do this:</p>

          <ol>
            <li>You can style your component using <a href='http://getbem.com/introduction/' target='__blank'>BEM conventions</a> and adding the component's styles to your project's stylesheet.</li>
            <li>You can provide your component with a style tag with styles for it inside the component's markup.</li>
            <li>You can use the NPM module <a href='https://www.npmjs.com/package/stylor' target='__blank'>stylor</a> to create a virtual stylesheet scoped to your component.</li>
          </ol>
          
          <h2>BEM</h2>
          <p>BEM stands for Base-Element-Modifier. It's a system for naming the elements of a component in such a manner that the classes uniquely identify every part that needs to be styles. This results in CSS that is easier to reason about and maintain.</p>

          <pre>
            <code class="language-javascript">
class List extends extends Component {
  render(fruits) {
    return (
      &lt;ul class='list--fruits'>
        {
          fruits.map(fruit => 
          &lt;li class='list--fruits__item'>
            &lt;p class='list--fruits__item__name'>{fruit.name}&lt;/p>
            &lt;p class='list--fruits__item__price'>${fruit.price}&lt;/p>
          &lt;/li>)
        }
      &lt;ul>
    )
  }
}</code>
          </pre>
          <p>Notice how the class names clear define what each item is and what its relationship is to its parent. With these class we could create a stylesheet like this:</p>
          <pre>
            <code class="language-css">
.list--fruits {
  list-style: none;
  margin: 1rem;
  border: solid 1px #ccc;
}
.list--fruits__item {
  margin: 0;
  padding: 5px 10px;
  border-bottom: solid 1px #ccc;
  transition: all .25s ease-out;
}
.list--fruits__item:last-of-type {
  border: none;
}
.list--fruits__item:hover {
  cursor: pointer;
  background-color: #333;
  color: #fff;
}
.list--fruits__item__name {
  color: blue;
}
.list--fruits__item__price {
  color: green;
}</code>
          </pre>
          <p>Using BEM to create class results in CSS that is easy to understand. Which list is this? Oh, the one for fruits, etc. Generally you shouldn't need to create nested selectors since the class names should clearly identify each element that gets that style. This eliminates the problem of cascading styles of one element affecting another element elsewhere on the page.</p>

          <h2>Style Tag in a Component</h2>
          <p>If you are creating an instance of the Component class, you want to define your styles in the render function and then pass them to the style tag inside your component's markup. In the example below, notice how we use the <code>nav</code> tag's id to scope the styles to it:</p>

          <pre>
            <code class="language-javascript">
import {h, Component} from 'composi'

export const title = new Component({
  container: 'header',
  render: (message) => {
    // Define styles for style tag:
    const styles = `
      #nav {
        padding: 10px;
        background-color: #333;
      }
      #nav h1 {
        color: #fff;
        font-size: 2rem;
      }`

    // Define style tag in component:
    return (
      &lt;nav id='nav'>
        &lt;style>
          {styles}
        &lt;/style>
        &lt;h1>Hello, {message}!&lt;/h1>
      &lt;/nav>
    )
  }
})</code>
          </pre> 
          <p>If you are extending the Component class, the process is the same. Define your styles as a variable inside the `render` function before returning the markup:</p>

          <pre>
            <code class="language-javascript">
import {h, Component, uuid} from 'composi'

class List extends Component {
  constructor(props) {
    super(props)
    this.container = 'section'
  }
  render(data) {
    const styles = `
    .list {
      list-style: none;
      padding: 0;
      margin: 10px;
      border: solid 1px #ccc;
      width: 300px;
    }
    .list > li {
      margin: 0;
      padding: 10px;
      border-bottom: solid 1px #ccc;
    }
    .list > li:hover {
      cursor: pointer;
    }
    .list > li:last-of-type {
      border: none;
    }
  `
    return (
      &lt;div id='list-container'>
        &lt;style>
          {styles}
        &lt;/style>
        &lt;ul class='list'>
          {
            data.map(item => 
            &lt;li key={item.id} data-id={item.id}>
              <&lt;input type="checkbox" checked={item.checked}/>
               {item.name}
            &lt;/li>)
          }
        &lt;/ul>
      &lt;/div>
    )
  }
}</code>
</pre>
          <p>When you are using this technique, it is up to you to make sure the styles in the tag are scoped to the component. In the above examples we used an id on the base element of the component. However, if you want to have multiple instances of a component, then you might want to think about using BEM and add the styles directly to your project's stylesheet.</p>

          <h2>When Not to Use</h2>
          <p>Using this technique is a quick and simple way to add styles to a component. However, if the component's styles are complex, the presence of a large style declaration in the component can make it hard to read. In those situations you can either put the style declaration in a separate file and import it into the file where the component is being used, or simply put the styles in your project's stylesheet. You don't want a component's styles to be bigger than the component's code.</p>

          <h2>Using Stylor</h2>
          <p>You can use the NPM module <a href='https://www.npmjs.com/package/stylor' target='__blank'>stylor</a> to create a virtual stylesheet scoped to your components. You will do this inside the component's <code>componentWasCreated</code> lifecyle method. This requires the styles to be defined as a JavaScript object. Properties must be camel cased and values must be quoted. If you want, you can use hypenated properties by enclosing them in quotes. Simple selectors are fine, but complex properties will need to be enclosed in quotes. You can use hierachical nesting to define parent child relationships, similar to how LESS and SASS do. If the value for a property will be a pixel value, you do not need to provide the <code>px</code>. values of plain numbers will get converted to pixel values.</p>

          <h2>Installing Stylor</h2>
          <p>Use NPM:</p>
          <pre>
            <code class="language-bash">
# cd to the project folder and run this:
npm i -D stylor</code>
          </pre>
          <p> </p>
          <h2>Importing Stylor into Your Project</h2>
          <p>After installing <code>stylor</code> as a dependency of your project, you need to import it in your project. In whichever file you want to use it, import it like this:</p>
          <pre>
            <code class="language-javascript">
 import {createStylesheet} from 'stylor'</code>
          </pre>
          <p>After importing <code>createStylesheet</code> from <code>stylor</code> you can use it to create a stylesheet for a component. The <code>createStylesheet</code> function takes an object with two properties: <code>base</code> and <code>styles</code>. <code>base</code> is a selector for the element from which styles will be scoped. This should be a unique selector, preferrably with an id. <code>styles</code> is an object defining the styles to be created.</p>
          <p>Here is an example of styles set up for a Component instance:</p>

          <pre>
            <code class="language-javascript">
 const personComponent = new Component({
  container: '#person',
  state: personData,
  render: (person) => (
    &lt;div>
      &lt;p>Name: {person.name.last}, {person.name.first}&lt;/p>
      &lt;p>Job: {person.job}&lt;/p>
      &lt;p>Employer: {person.employer}&lt;/p>
      &lt;p>Age: {person.age}&lt;/p>
    &lt;/div>
  ),
  componentWasCreated: () => {
    // Define conponent-scoped styles:
    createStylesheet({
      base: '#person',
      styles: {
        border: 'solid 1px #ccc',
        margin: '1em',
        p: {
          margin: 0,
          padding: '5px 10px',
          // Hover effect for p tags:
          ':hover': {
            backgroundColor: '#ddd',
            color: '#fff',
            cursor: 'pointer'
          }
        }
      }
    })
  }
})</code>
          </pre>
          <p>An here is an example of styles set up for when extending Component:</p>
          <pre>
            <code class="language-javascript">
class Person extends Component {
  constructor(opts) {
    super(opts)
    this.container = '#person'
    this.state = personData
  }
  render = (person) => (
    &lt;div>
      &lt;p>Name: {person.name.last}, {person.name.first}&lt;/p>
      &lt;p>Job: {person.job}&lt;/p>
      &lt;p>Employer: {person.employer}&lt;/p>
      &lt;p>Age: {person.age}&lt;/p>
    &lt;/div>
  )
  componentWasCreated() {
    // Define conponent-scoped styles:
    createStylesheet({
      base: '#person',
      styles: {
        border: 'solid 1px #ccc',
        margin: '1em',
        p: {
          margin: 0,
          padding: '5px 10px',
          // Hover effect for p tags:
          ':hover': {
            backgroundColor: '#ddd',
            color: '#fff',
            cursor: 'pointer'
          }
        }
      }
    })
  }
}</code>
          </pre>
          <p>And here's a sample of some general <code>styles</code> objects from an actual component. You can see that we can target element inside a component. Because the styles get scoped to the component, these styles will not leak out and affect other elements in the page.</p>

          <pre>
            <code class="language-javascript">
styles: {
  label: {
    display: 'inline-block',
    width: 100,
    textAlign: 'right'
  },
  button: {
    color: '#fff',
    backgroundColor: 'green'
  },
  'button.delete': {
    transition: 'all .25s ease-out',
    border: 'solid 1px red',
    backgroundColor: 'red',
    color: '#fff',
    padding: '10px 20px',
    ':hover': {
      backgroundColor: '#fff',
      color: 'red',
    }
  },
  'li:last-of-type': {
    borderBottom: 'none'
  },
  input: {
    width: 150
  }
}</code>
          </pre>
          <p>Here's another sample <code>styles</code> object:</p>
          <pre>
            <code class="language-javascript">
styles: {
  div: {
    margin: 20,
    span: {
      position: 'relative',
      top: '-1px',
      display: 'inline-block',
      border: 'solid 1px #007aff',
      padding:' 5px 10px 5px',
      minWidth: '20px',
      textAlign: 'center'
    },
    button: {
      fontSize: '13pt',
      border: 'solid 1px #007aff',
      color: '#fff',
      backgroundColor: '#007aff',
      padding: '3px 10px 3px',
      cursor: 'pointer',
      margin: 0,
      ':first-of-type': {
        borderRight: 'none'
      },
      ':nth-child(3)': {
        borderLeft: 'none'
      },
      ':last-of-type': {
        backgroundColor: 'red',
        borderColor: 'red',
        color: '#fff',
        marginLeft: 10,
        ':hover': {
          backgroundColor: '#fff',
          color: 'red'
        }
      },
      ':hover': {
        backgroundColor: '#fff',
        color: '#007aff',
        borderColor: '#007aff'
      },
      '[disabled]': {
        backgroundColor: '#ccc',
        borderColor: '#ccc',
        cursor: 'default',
        opacity: '.75',
        ':hover': {
          backgroundColor: '#ccc',
          color: '#007aff',
          borderColor: '#ccc'
        }
      }
    }
  }
}</code>
          </pre>
          <p> </p>
          <h2>Scoped Stylesheets and Memory</h2>
          <p>When you define styles on a class constructor, each instance of the class will have its own virtual stylesheet created. This is fine if the number of instances are not large. You should, however, bare in mind that each scoped stylesheet takes up memory. If you intend to create many instances of the same component, it might make sense to not create a scope style but to instead put the styles that all instances will share in your project's stylesheet. </p>

          <h2>SASS, LESS, POST-CSS</h2><a href="" target="__blank"></a>
          <p>If you want, you can use SASS, LESS or PostCSS as CSS preprocessors in your project. To do so you will have to use the `gulp` versions. For SASS, use <a href="https://www.npmjs.com/package/gulp-sass" target="__blank">gulp-sass</a>, or LESS use <a href="https://www.npmjs.com/package/gulp-less" target="__blank">gulp-less</a> and for PostCSS use <a href="https://www.npmjs.com/package/gulp-postcss" target="__blank">postcss</a>. Just install these like this:</p>
          <pre>
            <code class="language-bash">
npm i -D gulp-sass
// or
npm i -D gulp-less
// or
npm i -D gulp-postcss</code>
          </pre>
          <p>Then add these to your project's gulpfile:</p>

          <pre>
            <code class="language-javascript">
/////////////
// For SASS:
/////////////
const sass = require('gulp.sass');

// Define a task for SASS:
gulp.task('sass', function () {
  gulp.src('./scss/.scss')
    .pipe(sass())
    .pipe(gulp.dest('./css'))
});

// Then add new SASS task to build:
gulp.task('default', ['sass', 'serve', 'watch'])

////////////
// For LESS:
////////////
const less = require('gulp-less')

// Define a task for LESS:
gulp.task('less', function () {
  return gulp.src('./less/**/*.less')
    .pipe(less({
      paths: [ path.join(__dirname, 'less', 'includes') ]
    }))
    .pipe(gulp.dest('./css'))
})

// Then add new LESS task to build:
gulp.task('default', ['less', 'serve', 'watch'])

//////////////
// For PostCSS
//////////////
const postcss = require('gulp-postcss');
 
// Define a task for PostCSS:
gulp.task('postcss', function () {
  return gulp.src('./src/*.css')
    .pipe(postcss())
    .pipe(gulp.dest('./css'))
})

// Then add new PostCSS task to build:
gulp.task('default', ['postcss', 'serve', 'watch'])</code>
          </pre>
          <p> </p>
          <h2>Font Size</h2>
          <p>A Composi project includes the Boostrap 4.0 CSS reset. This has one slight change affecting font sizes. The <code>html</code> tag has its font size set to 65.5%. And the <code>body</code> tag has its font size set to 1.4rem. In fact, all font sizes in this stylesheet are set with <code>rem</code>. This gives you a more flexible and responsive result.</p>
          <p>Using Rem</p>
          <p>When using <code>rem</code>, if you want an equivalent to pixel values, add a decimal to it:</p>
          <pre>
            <code class="language-css">
1.4rem = 14px
1.6rem = 16px
 .5rem = 5px
1rem   = 10px
2rem   = 20px</code>
          </pre>
          <p>Since a <code>rem</code> value is set on the body tag, all other <code>rem</code> values will be based on that. You can change the proportion of fonts in your app by changing the <code>rem</code> value of the body tag. You can do this by opening your project's <code>styles.css</code> file. Scroll to the bottom where you'll find the comment <code>/* Local Styles */</code>. Any where after that you can add your own desired value for your project's base font size:</p>
          <pre>
            <code class="language-css">
body {
  /* font base of 16px */
  font-size: 1.6rem 
  /* or  font base of 12px */
  font-size: 1.2rem
}
            </code>
          </pre>
          p


          <p>&nbsp;</p>
      </div>

      <aside>
        <menu>
          <ul class="docs__menu">
            <li class="docs__menu__item">
              <a href='./installation.html'>Installation</a>
            </li>
            <li class="docs__menu__item">
              <a href='./render.html'>Render</a>
            </li>
            <li class="docs__menu__item">
              <a href='./functional-components.html'>Functional Components</a>
            </li>
            <li class="docs__menu__item">
              <a href='./component-instance.html'>Component Instance</a>
            </li>
            <li class="docs__menu__item">
              <a href='./extending-component.html'>Extending Component</a>
            </li>
            <li class="docs__menu__item">
              <a href='./state.html'>State</a>
            </li>
            <li class="docs__menu__item">
              <a href='./jsx.html'>JSX</a>
            </li>
            <li class="docs__menu__item">
              <a href='./h.html'>H for Hyperscript</a>
            </li>
            <li class="docs__menu__item">
              <a href='./template-literals.html'>Template Literals</a>
            </li>
            <li class="docs__menu__item selected">
              <a href='./styles.html'>Styles</a>
            </li>
            <li class="docs__menu__item">
              <a href='./lifecycle-methods.html'>Lifecycle Methods</a>
            </li>
            <li class="docs__menu__item">
              <a href='./events.html'>Events</a>
            </li>
            <li class="docs__menu__item">
              <a href='./redux-mobx.html'>Redux and Mobx</a>
            </li>
            <li class="docs__menu__item">
              <a href='./hydration.html'>Hydration</a>
            </li>
            <li class="docs__menu__item">
              <a href='./deployment.html'>Deployment</a>
            </li>
            <li class="docs__menu__item">
              <a href='./about.html'>About</a>
            </li>
          </ul>
        </menu>
      </aside>
    </section> 
  </article>
  <footer>
      <section>
        <svg id='composi-logo-footer' viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title>Composi Logo</title>
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Composi-Logo-Solid" fill="rgba(255,255,255,0.5)">
              <path d="M1.77635684e-15,0 L95,0 L95,38 L209,38 L209,0 L300,0 L300,94 L265,93.8571663 L265,209 L300,209 L300,300 L209,300 L209,265 L95,265 L95,300 L1.77635684e-15,300 L1.77635684e-15,209 L40,209 L40,94 L1.77635684e-15,93.8571663 L1.77635684e-15,0 Z M107,107 L107,192 L192,192 L192,107 L107,107 Z" id="Combined-Shape"></path>
            </g>
          </g>
        </svg>
        <h3>Composi is open source (MIT) and available on <a href='https://github.com/composor/composi' target='__blank'>Github</a> and <a href="https://www.npmjs.com/package/composi" target='__blank'>NPM</a>.</h3>
      </section>
    </footer>
  <script src="../js/prism.min.js"></script>
  <script src="../js/prism-jsx.js"></script>
</body>
</html>